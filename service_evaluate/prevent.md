# 预防能力指标

![](/images/fault-pervent.png)

# 预防故障发生
## 网络
### 网络服务SLA签订
- 指标分类：预防能力/预防故障发生/网络
- 指标解释：网络是整个系统服务的基础设施，网络质量的优劣直接关系到服务的可靠性。
- 指标要求：对网络质量的要求需要和网络组明确（包含：带宽、延时）。
- 评分标准：
  1. 和网络提供商无明确约定的，不得分。
  2. 指标有明确完整约定的得60分，部分约定的，每增加一个指标得30分。
  3. 对指标对应的数据使用状态有例行监控和审计的得40分，部分有监控和审计的，每增加一个得20分。
- 验证手段：提交与网络签订SLA的材料（备忘录或邮件等）。
- 判例：无
- 指标级别：2
- 对应角色：OP、网络提供商

## 程序
### 变更规范
- 指标分类：预防能力/预防故障发生/程序
- 指标解释：变更管理权限混乱、无明确通报机制和流程规范，给线上带来无数隐患、也直接影响线上问题定位和止损效率。
- 指标要求：需要有明确的变更流程，主要包括：上线前的测试方案和风险评估，上线的权限管理、时间窗口、通报机制等。
- 说明：BUG修复类、只能在低峰期进行变更、变更持续时间长的特殊情况，可以设置特殊的窗口和流程规范，但不能无章可循。
- 评分标准：
  - 1.有明确的时间窗口，特别是对于时间窗口之外的上线有完善的紧急流程规范，得30分
  - 2.有明确的上线权限管理和通报机制，得30分。
  - 3.有完善的检查回归手段，得40分。
- 验证手段：查看变更数据。
- 判例：无
- 指标级别：1
- 对应角色：OP、RD、QA

### QA测试
- 指标分类：预防能力/预防故障发生/程序
- 指标解释：完备的测试是拦截线上程序BUG的有效手段，该指标用于衡量测试完备度。
- 指标要求：对测试形式、测试内容进行规范。
- 评分标准：
  - 对于高风险、核心服务或基础组件的程序变更应纳入测试，并按如下标准进行评分：
  - 测试任务对代码合法性进行校验得25分。
  - 测试任务对模块级功能进行验证得25分。
  - 测试任务对系统级功能进行验证得25分。
  - 测试任务产出格式化的测试报告得25分。
  - 验证手段：抽样检查测试记录中是否包含对应测试项目。
- 判例：无
- 指标级别：2
- 对应角色：QA

### 编码规范
- 指标分类：预防能力/预防故障发生/程序
- 指标解释：不遵循代码规范编写的程序，上线后往往引入可用性隐患，该指标用于衡量程序编码是否符合公司代码规范要求。
- 指标要求：遵循代码编码规范。
- 评分标准：
通过代码检查等工具验证编码已全部遵循公司代码规范得100分，部分遵循的，根据比例得分。
- 验证手段：提交代码检查等工具的验证记录。
- 判例：无
- 指标级别：2
- 对应角色：RD

## 操作

### 线上线下隔离
- 指标分类：预防能力/预防故障发生/操作
- 指标解释：线上、线下隔离是指将线上环境与线下环境隔离开，不允许线下服务在授权外访问线上服务。
- 指标要求：原则上，线上与线下进行隔离，避免线下压力、异常流量发送到线上，影响线上服务。确因特殊需求，需要线下连接线上的，通过例外授权进行。其中对线上压测和写线上的需求，不得例外授权。
- 评分标准：
  - 1．已通过技术手段对所有核心模块实施线上、线下隔离的，得70分，实施部分核心模块的根据模块数比例得分。
  - 2．可通过技术手段实现隔离例外授权控制的，得30分，其中对线上压测和写线上的需求，不得例外授权。
- 验证手段：从实现隔离的技术平台获取线上、线下隔离策略数据。
- 判例：RD线下测压，压垮passport线上服务 导致用户登录失败。
- 指标级别：2
- 对应角色：OP、RD

### 运维操作规范
- 指标分类：预防能力/预防故障发生/操作
- 指标解释：运维操作规范指针对OP的线上操作行为制定相应的操作准则。线上操作包括程序、数据变更，配置修改，数据获取，故障处置，增加或下线机器、环境清理等对线上产品环境进行变更的行为。
- 指标要求：对OP线上操作需要制定操作规范，常规类操作需明确操作流程和技术要求；非常规类操作，规范中至少需额外增加对审批流程、操作前后通报机制、操作后验证机制、操作分级进行的要求。运维操作规范需定期review。
- 评分标准：
  - 1．OP线上操作（包括常规和非常规），明确操作流程和技术要求，得20分。
  - 2．OP非常规类操作，制定审批流程，得20分；操作前后有通报机制，得10分，操作后有验证机制，得20分，有操作分级要求，得20分。
- 运维操作规范每年review一次得10分。
- 验证手段：
  - 1．产品线提交运维操作规范文档。
  - 2．抽样检查或产品线提交操作审批记录、操作通报记录、操作后验证记录、操作分级记录。
  - 3．抽样检查或产品线提交运维操作规范review记录。
- 判例：无。
- 指标级别：2
- 对应角色：OP

### 运维操作培训
- 指标分类：预防能力/预防故障发生/操作
- 指标解释：运维操作培训是指对OP进行运维操作流程、技术要求、安全意识等方面的培训，目的是让每个OP对线上操作要求有清晰的认识，上岗前具备操作安全意识和技能，降低线上操作风险。
- 指标要求：对新入职或刚转入的同学在正式上岗操作前，需开展运维操作培训，培训考核通过后方能上岗。《运维操作规范》大版本更新、修订后，需重点就变更内容在整个团队内开展培训。
- 评分标准：
  - 1．对新入职或刚转入同学在2个月内进行运维操作规范培训，得40分，否则得0分。培训考核通过后上岗，得30分，培训后未考核或考核未通过上岗，得0分。
  - 2．《运维操作规范》大版本更新、修订后，1个月内在整个团队内进行培训，得30分，否则得0分。
- 验证手段：
  - 1．产品线提交新入职和刚转入同学的培训、考核记录。
  - 2．产品线提交团队培训记录。
- 判例：无。
- 指标级别：2
- 对应角色：OP

### 安全审计
- 指标分类：预防能力/预防故障发生/操作
- 指标解释：安全审计指将实际操作行为与安全规则进行对比，发现日常操作中存在的违规、高风险行为，是基础运维风险事后管控的重要措施。
- 指标要求：各产品线应对如下方面进行安全审计：非法登录；人员与权限不匹配情况；超级、区域总控授权、操作行为审计；线下连线上行为审计；初始化平台操作行为审计。
- 评分标准：
  - 对非法登录审计得20分，对人员与权限不匹配审计得10分，对超级、区域总控审计得30分，线下连线上审计得20分，初始化平台操作审计得20分。
- 验证手段：通过giano平台获取或产品线提交审计报告。
- 判例：无
- 指标级别：2
- 对应角色：OP


## 平台

## 第三方公司
## 运营
## 攻击

# 预防故障扩散
## 程序调度
## 资源隔离
## 部署隔离
## 权限隔离
